<div class="container">
  <div class="ml-4">
    <app-header></app-header>
    <br/>
    <app-login
      *ngIf="phase === 0"
      (newUserEvent)="user = $event"
      (newPhaseEvent)="phase = $event"
    ></app-login>

    <div class="row">
      <div class="col-6" *ngIf="phase !== 0">
        <app-code-submission
          [phase]="phase"
          [user]="user"
          [code]="code"
          [loading]="loading"
          [interaction]="interaction"
          (codeSubmissionEvent)="codeSubmissionUpdate($event)"
        ></app-code-submission>
      </div>
      <div class="col-6" *ngIf="(phase === 2 || phase === 3) && !loading">
        <app-answer-submission [loading]="loading" [phase]="phase" [interaction]="interaction"
                               (cleanupEvent)="cleanup($event)"></app-answer-submission>
      </div>
    </div>

    <div *ngIf="loading" style="margin: auto; width: 10%">
      <mat-spinner [diameter]="50"></mat-spinner>
    </div>

    <footer>
      <div class="text-muted text-center mt-4 mb-4">Â© 2021 Tiago Martinho</div>
    </footer>
  </div>
</div>
